# 암호화

## 대칭키
1. **일반적인 특징**
   - 암호화키는 복호화키와 동일하다.
   - 이로 인해 보안상 문제가 초래할 가능성이 높다.
   - 따라서 인증서 작업에는 대칭키를 사용하지 않는다.
   - alphabit에서 다루는 것들은 바로 이 대칭키이다.
   - 대칭키에서 키는 1개이며 키 길이는 128, 192, 256이다. 이는 2의 제곱승으로 키 길이가 낮을수록 속도가 빠르다. 키 길이는 256이 권고사항이다.
   - 대칭키가 비대칭키 보다 키길이가 작기 때문에 비대칭키보다 속도가 더 빠르다.
   - 대칭키를 암호화하는 알고리즘을 블록암호 알고리즘이라 한다.
     - AES(국제표준)와, DES, TDES 
   - { ARIA, SEED(IOT), HIGHT(IOT) 국산 알고리즘 }
   - { RC2, RC4, RC5 보안상 이슈}

2. **블록 암호 operation**
   - **ECB:** 아무것도 하지 않는다.
   - **CBC:** BLOCKSIZE마다 XOR연산을 수행하며 수행한 값을 토대로 다음 BLOCK의 연산을 수행한다. 복호화할 때는 다시 처음부터 XOR연산을 수행하여 복호화한다.
   - **CFB:** 평문에 대한 암호화 피드백 메커니즘이다. 피드백 메커니즘 병렬처리에 보다 독립적 처리에 적합. 하지만 1비트씩 블록을 나누어 연산을 수행할 수 있기 때문에 병렬처리가 가능하다.
   - **OFB:** 독립적인 암호화 operation으로 CBC와 달리 병렬처리가 가능하며 에러가 전파되지 않는다.
   - **CTR:** 평문 블록 암호화로 병렬처리 및 독립적 처리가 가능한 operation입니다.

3. **Padding**
   - Block 단위로 나누어 알고리즘 및 operation이 수행되기 때문에 필연적으로 blank가 발생한다. 따라서 이 blank를 어떻게 채우는지에 따라 padding의 종류가 나뉘게 된다.
   - **ZERO PADDING:** BLANK를 0으로 채운다.
   - **BBIT PADDING:** 부족한 녀석의 첫 1 바이트를 80(16진수)으로 채운다.
   - **PKCS7:** 부족한 개수 만큼의 숫자를 채운다.

## 비대칭키
1. **일반적인 특징**
   - 암호화키는 복호화키와 동일하지 않다.
   - 이로 인해 높은 보안을 요구하는 곳에서 비대칭키를 사용한다. (ex 인증서 작업)
   - 비대칭키의 키 길이는 1024, 2048, 3096이며 2048이 바로 권고사항이다.
   - 비대칭키에는 공개키와 비밀/개인키가 있다.
   - 공개키는 누구나 접근이 가능하고 비밀/개인 키는 키를 갖고 있는 개인만이 접근이 가능하다. 둘 중 어떤 것이나 사용해서 암호화가 가능하다. 다만 암호화한 것이 아닌 다른 것으로 복호화가 이루어져야 한다.
   - 비대칭키는 대칭키에 비해 상대적으로 느리지만 보안상으로 우수하다.

2. **공개키 암호화 (PKI)**
   - 직관적이해를 돕기 위해 그림으로 나타내 보고자 한다.
     ```
     CA(발급주체)
     RA      RA(등록주체)
     USR     USR     USR(발급을 원하는 유저)
     ```

## 전자봉투 전자서명의 시나리오
- 키분배의 핵심은 보안상 전하게 키를 분배하는 것이다.
- a -> b로 메세지를 보낸다고 가정해보자.
- 이때 1메시지를 우선 대칭키로 암호화한다.
- 그 후 대칭키로 암호화한 것을 다시 공개키로 암호화시켜 b에게 전달한다.
- b는 자신의 개인키로 대칭키로 암호화된 것을 복호화 할 수 있고 복호화 된 대칭키로 암호화 된 메시지는 대칭키이기 때문에 다시 복호화가 가능하다.
- 여기서 전자서명은 뭐고 전자봉투는 뭐지?
